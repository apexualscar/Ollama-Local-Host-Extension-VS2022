<UserControl x:Class="OllamaLocalHostIntergration.Controls.PendingChangeControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vsshell="clr-namespace:Microsoft.VisualStudio.Shell;assembly=Microsoft.VisualStudio.Shell.15.0"
             xmlns:toolkit="clr-namespace:Community.VisualStudio.Toolkit;assembly=Community.VisualStudio.Toolkit"
             toolkit:Themes.UseVsTheme="True">
    <Border Background="{DynamicResource {x:Static vsshell:VsBrushes.CommandBarMenuBackgroundGradientKey}}"
            BorderBrush="{DynamicResource {x:Static vsshell:VsBrushes.CommandBarBorderKey}}"
            BorderThickness="1"
            CornerRadius="4"
            Padding="8,6"
            Margin="0,0,0,4">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <!-- File Icon -->
            <TextBlock Grid.Column="0"
                       Text="&#xE8A5;"
                       FontFamily="Segoe MDL2 Assets"
                       FontSize="12"
                       Margin="0,0,8,0"
                       VerticalAlignment="Center"
                       Foreground="{DynamicResource {x:Static vsshell:VsBrushes.WindowTextKey}}"/>
            
            <!-- Description -->
            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                <TextBlock Text="{Binding Description}"
                           FontSize="11"
                           FontWeight="SemiBold"
                           Foreground="{DynamicResource {x:Static vsshell:VsBrushes.WindowTextKey}}"/>
                <TextBlock Text="{Binding FilePath}"
                           FontSize="9"
                           Opacity="0.7"
                           Foreground="{DynamicResource {x:Static vsshell:VsBrushes.WindowTextKey}}"/>
            </StackPanel>
            
            <!-- View Diff Button -->
            <Button Grid.Column="2"
                    Content="View Diff"
                    Click="ViewDiffClick"
                    FontSize="10"
                    Padding="8,4"
                    Margin="8,0,4,0"
                    VerticalAlignment="Center"
                    ToolTip="View changes in diff viewer"
                    Background="{DynamicResource {x:Static vsshell:VsBrushes.ButtonFaceKey}}"
                    Foreground="{DynamicResource {x:Static vsshell:VsBrushes.ButtonTextKey}}"/>
            
            <!-- Keep Button -->
            <Button Grid.Column="3"
                    Content="Keep"
                    Click="KeepClick"
                    FontSize="10"
                    Padding="8,4"
                    Margin="0,0,4,0"
                    VerticalAlignment="Center"
                    ToolTip="Apply this change"
                    Background="{DynamicResource {x:Static vsshell:VsBrushes.AccentMediumKey}}"
                    Foreground="White"/>
            
            <!-- Undo Button -->
            <Button Grid.Column="4"
                    Content="Undo"
                    Click="UndoClick"
                    FontSize="10"
                    Padding="8,4"
                    VerticalAlignment="Center"
                    ToolTip="Discard this change"
                    Background="{DynamicResource {x:Static vsshell:VsBrushes.ButtonFaceKey}}"
                    Foreground="{DynamicResource {x:Static vsshell:VsBrushes.ButtonTextKey}}"/>
        </Grid>
    </Border>
</UserControl>
